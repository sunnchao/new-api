/*
Copyright (C) 2025 QuantumNous

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.

For commercial licensing, please contact support@quantumnous.com
*/

import React from 'react';
import { Typography, Card, Tabs, TabPane, Space, List, Tag, Banner } from '@douyinfe/semi-ui';
import { Code2, Zap, Shield, Globe, CheckCircle } from 'lucide-react';

const { Title, Paragraph, Text } = Typography;

const ClaudeCodeTutorial = () => {
  const features = [
    {
      icon: <Zap className='text-blue-500' size={24} />,
      title: '高性能AI编程',
      description: '基于Claude的智能代码补全和生成',
    },
    {
      icon: <Shield className='text-green-500' size={24} />,
      title: '安全可靠',
      description: '企业级安全保障，代码隐私保护',
    },
    {
      icon: <Globe className='text-purple-500' size={24} />,
      title: '多语言支持',
      description: '支持主流编程语言和框架',
    },
    {
      icon: <Code2 className='text-orange-500' size={24} />,
      title: '智能理解',
      description: '深度理解代码上下文，精准建议',
    },
  ];

  return (
    <div className='p-6 max-w-6xl mx-auto'>
      <Banner
        fullMode={false}
        type='info'
        bordered
        icon={null}
        closeIcon={null}
        className='mb-6'
        description={
          <div className='flex items-center gap-3'>
            <Code2 size={24} className='text-blue-500' />
            <span>欢迎使用 Claude Code - 下一代 AI 编程助手</span>
          </div>
        }
      />
      
      <div className='mb-8 text-center'>
        <div className='inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 mb-4 shadow-lg'>
          <Code2 size={48} className='text-white' />
        </div>
        <Title heading={1} className='mb-3'>
          Claude Code 使用教程
        </Title>
        <Paragraph className='text-lg' style={{ color: 'var(--semi-color-text-1)' }}>
          AI驱动的智能编程助手，让代码开发更高效
        </Paragraph>
        <Space className='mt-4'>
          <Tag color='blue' size='large'>智能补全</Tag>
          <Tag color='purple' size='large'>代码生成</Tag>
          <Tag color='green' size='large'>安全可靠</Tag>
        </Space>
      </div>

      <Card 
        className='mb-6'
        headerLine={true}
        title={
          <div className='flex items-center gap-2'>
            <div className='w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full'></div>
            <Title heading={3} style={{ margin: 0 }}>核心特性</Title>
          </div>
        }
      >
        <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4'>
          {features.map((feature, index) => (
            <div 
              key={index} 
              className='p-5 rounded-xl transition-all duration-300 hover:scale-105 cursor-pointer'
              style={{ 
                background: 'var(--semi-color-fill-0)',
                border: '1px solid var(--semi-color-border)',
              }}
            >
              <div className='mb-3 p-3 inline-flex rounded-lg' style={{ background: 'var(--semi-color-fill-1)' }}>
                {feature.icon}
              </div>
              <Title heading={5} className='mb-2'>
                {feature.title}
              </Title>
              <Text type='tertiary'>{feature.description}</Text>
            </div>
          ))}
        </div>
      </Card>

      <Card
        headerLine={true}
        title={
          <div className='flex items-center gap-2'>
            <div className='w-1 h-6 bg-gradient-to-b from-green-500 to-blue-500 rounded-full'></div>
            <Title heading={3} style={{ margin: 0 }}>安装指南</Title>
          </div>
        }
      >
        <Tabs type='button' size='large'>
          <TabPane tab='macOS' itemKey='macos'>
            <Space vertical align='start' spacing='medium' className='w-full'>
              <Title heading={4}>macOS 安装步骤</Title>
              
              <div className='w-full'>
                <Title heading={5}>1. 安装 Visual Studio Code</Title>
                <Paragraph>
                  如果尚未安装 VS Code，请访问{' '}
                  <Text link={{ href: 'https://code.visualstudio.com/', target: '_blank' }}>
                    官方网站
                  </Text>{' '}
                  下载安装。
                </Paragraph>
              </div>

              <div className='w-full'>
                <Title heading={5}>2. 安装 Claude Code 扩展</Title>
                <Paragraph>打开 VS Code，按照以下步骤操作：</Paragraph>
                <List
                  dataSource={[
                    '点击左侧活动栏的扩展图标（或按 Cmd+Shift+X）',
                    '在搜索框中输入 "Claude Code"',
                    '找到官方扩展后，点击"安装"按钮',
                    '安装完成后，重启 VS Code',
                  ]}
                  renderItem={(item) => (
                    <List.Item>
                      <div className='flex items-start gap-2'>
                        <CheckCircle size={18} className='text-green-500 mt-0.5 flex-shrink-0' />
                        <span>{item}</span>
                      </div>
                    </List.Item>
                  )}
                />
                <div className='mt-4 p-4 rounded-lg' style={{ background: 'var(--semi-color-info-light-default)', border: '1px solid var(--semi-color-info)' }}>
                  <div className='flex items-center gap-2 mb-2'>
                    <Tag color='cyan'>API 端点</Tag>
                  </div>
                  <Text code copyable style={{ fontSize: '14px' }}>{window.location.origin}/v1</Text>
                </div>
                    </List.Item>
                  )}
                />
              </div>

              <div className='w-full'>
                <Title heading={5}>3. 配置 API Key</Title>
                <Paragraph>在 VS Code 中配置您的 API Key：</Paragraph>
                <List
                  dataSource={[
                    '打开命令面板（Cmd+Shift+P）',
                    '输入 "Claude Code: Set API Key"',
                    '粘贴您从本平台获取的 API Key',
                    '选择 API 端点：使用本平台的自定义端点地址',
                  ]}
                  renderItem={(item) => <List.Item>{item}</List.Item>}
                />
                <div className='mt-4 p-4 bg-gray-100 rounded'>
                  <Text code>API 端点: {window.location.origin}/v1</Text>
                </div>
              </div>

              <div className='w-full'>
                <Title heading={5}>4. 开始使用</Title>
                <Paragraph>
                  配置完成后，您可以在编辑器中直接使用 Claude Code 的智能补全功能。
                  按 <Text code>Tab</Text> 接受建议，按 <Text code>Esc</Text> 忽略建议。
                </Paragraph>
              </div>
            </Space>
          </TabPane>

          <TabPane tab='Windows' itemKey='windows'>
            <Space vertical align='start' spacing='medium' className='w-full'>
              <Title heading={4}>Windows 安装步骤</Title>
              
              <div className='w-full'>
                <Title heading={5}>1. 安装 Visual Studio Code</Title>
                <Paragraph>
                  访问{' '}
                  <Text link={{ href: 'https://code.visualstudio.com/', target: '_blank' }}>
                    VS Code 官网
                  </Text>{' '}
                  下载 Windows 版本并安装。
                </Paragraph>
              </div>

              <div className='w-full'>
                <Title heading={5}>2. 安装 Claude Code 扩展</Title>
                <List
                  dataSource={[
                    '启动 VS Code',
                    '点击左侧扩展图标（或按 Ctrl+Shift+X）',
                    '搜索 "Claude Code" 并安装',
                    '安装后重启 VS Code',
                  ]}
                  renderItem={(item) => (
                    <List.Item>
                      <div className='flex items-start gap-2'>
                        <CheckCircle size={18} className='text-green-500 mt-0.5 flex-shrink-0' />
                        <span>{item}</span>
                      </div>
                    </List.Item>
                  )}
                />
              </div>

              <div className='w-full'>
                <Title heading={5}>3. 配置 API Key</Title>
                <List
                  dataSource={[
                    '打开命令面板（Ctrl+Shift+P）',
                    '输入 "Claude Code: Set API Key"',
                    '输入您的 API Key',
                    '配置自定义 API 端点',
                  ]}
                  renderItem={(item) => (
                    <List.Item>
                      <div className='flex items-start gap-2'>
                        <CheckCircle size={18} className='text-green-500 mt-0.5 flex-shrink-0' />
                        <span>{item}</span>
                      </div>
                    </List.Item>
                  )}
                />
                <div className='mt-4 p-4 rounded-lg' style={{ background: 'var(--semi-color-info-light-default)', border: '1px solid var(--semi-color-info)' }}>
                  <div className='flex items-center gap-2 mb-2'>
                    <Tag color='cyan'>API 端点</Tag>
                  </div>
                  <Text code copyable style={{ fontSize: '14px' }}>{window.location.origin}/v1</Text>
                </div>
              </div>

              <div className='w-full'>
                <Title heading={5}>4. 开始编码</Title>
                <Paragraph>
                  现在您可以享受 AI 驱动的代码补全体验！使用{' '}
                  <Text code>Tab</Text> 键接受建议。
                </Paragraph>
              </div>
            </Space>
          </TabPane>

          <TabPane tab='Linux' itemKey='linux'>
            <Space vertical align='start' spacing='medium' className='w-full'>
              <Title heading={4}>Linux 安装步骤</Title>
              
              <div className='w-full'>
                <Title heading={5}>1. 安装 Visual Studio Code</Title>
                <Paragraph>根据您的发行版选择安装方式：</Paragraph>
                
                <div className='mb-4'>
                  <Text strong>Debian/Ubuntu:</Text>
                  <div className='mt-2 p-3 bg-gray-900 text-gray-100 rounded font-mono text-sm overflow-x-auto'>
                    <div>sudo apt update</div>
                    <div>sudo apt install code</div>
                  </div>
                </div>

                <div className='mb-4'>
                  <Text strong>Fedora/RHEL:</Text>
                  <div className='mt-2 p-3 bg-gray-900 text-gray-100 rounded font-mono text-sm overflow-x-auto'>
                    <div>sudo dnf install code</div>
                  </div>
                </div>

                <div>
                  <Text strong>Arch Linux:</Text>
                  <div className='mt-2 p-3 bg-gray-900 text-gray-100 rounded font-mono text-sm overflow-x-auto'>
                    <div>sudo pacman -S code</div>
                  </div>
                </div>
              </div>

              <div className='w-full'>
                <Title heading={5}>2. 安装扩展</Title>
                <Paragraph>通过命令行或图形界面安装：</Paragraph>
                <div className='mt-2 p-3 bg-gray-900 text-gray-100 rounded font-mono text-sm overflow-x-auto'>
                  <div>code --install-extension claude-code</div>
                </div>
              </div>

              <div className='w-full'>
                <Title heading={5}>3. 配置 API</Title>
                <List
                  dataSource={[
                    '打开 VS Code',
                    '按 Ctrl+Shift+P 打开命令面板',
                    '搜索并选择 "Claude Code: Set API Key"',
                    '输入 API Key 和自定义端点',
                  ]}
                  renderItem={(item) => (
                    <List.Item>
                      <div className='flex items-start gap-2'>
                        <CheckCircle size={18} className='text-green-500 mt-0.5 flex-shrink-0' />
                        <span>{item}</span>
                      </div>
                    </List.Item>
                  )}
                />
                <div className='mt-4 p-4 rounded-lg' style={{ background: 'var(--semi-color-info-light-default)', border: '1px solid var(--semi-color-info)' }}>
                  <div className='flex items-center gap-2 mb-2'>
                    <Tag color='cyan'>API 端点</Tag>
                  </div>
                  <Text code copyable style={{ fontSize: '14px' }}>{window.location.origin}/v1</Text>
                </div>
              </div>

              <div className='w-full'>
                <Title heading={5}>4. 验证安装</Title>
                <Paragraph>
                  打开任意代码文件，开始输入即可看到 AI 建议。
                </Paragraph>
              </div>
            </Space>
          </TabPane>
        </Tabs>
      </Card>

      <Card 
        className='mt-6'
        headerLine={true}
        title={
          <div className='flex items-center gap-2'>
            <div className='w-1 h-6 bg-gradient-to-b from-amber-500 to-orange-600 rounded-full'></div>
            <Title heading={3} style={{ margin: 0 }}>使用提示</Title>
          </div>
        }
      >
        <List
          dataSource={[
            {
              title: '快捷键',
              description: '使用 Tab 接受建议，Esc 忽略建议，Alt+\\ 手动触发补全',
              color: 'blue',
            },
            {
              title: '上下文理解',
              description: 'Claude Code 会分析整个文件的上下文，提供更精准的代码建议',
              color: 'purple',
            },
            {
              title: '多语言支持',
              description: '支持 JavaScript、Python、Java、Go、Rust 等主流编程语言',
              color: 'green',
            },
            {
              title: '代码注释',
              description: '编写详细的注释可以帮助 AI 更好地理解您的意图',
              color: 'cyan',
            },
            {
              title: 'API 配额',
              description: '请注意您的 API 使用配额，可在控制台查看当前用量',
              color: 'orange',
            },
          ]}
          renderItem={(item) => (
            <List.Item>
              <div className='flex items-start gap-3'>
                <Tag color={item.color} size='large'>{item.title}</Tag>
                <Text type='secondary'>{item.description}</Text>
              </div>
            </List.Item>
          )}
        />
      </Card>
    </div>
  );
};

export default ClaudeCodeTutorial;
